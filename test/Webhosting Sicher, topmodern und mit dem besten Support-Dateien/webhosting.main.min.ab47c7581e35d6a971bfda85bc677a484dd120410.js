var webhs9Index,webhs7Index,isSwitchingWebhs7Slides,webhs7AnimationDuration;$(document).ready(function(){setupWebhostingPage()}),webhs9Index=0,webhs7Index=0,isSwitchingWebhs7Slides=!1,webhs7AnimationDuration=550;function setupWebhostingPage(){setupFooter(),$('#webhs4 .webhs4-container').cleanWhitespace(),$('.webhs6-cms-items').cleanWhitespace(),$('.webhs4-tabs').cleanWhitespace(),initTeasers(),setupWebhs3(),setupWebh4MobileTabs(),setupWebh4Test(),setupWebh6Subnavi(),setupWebhs9(),setupWebhs7Animations(),setupTracing(),initPromotionBanner(),initTooltips()}function setupTracing(){if($('body').hasClass('webhf'))return;var a=[{name:'Webhosting Standard',id:'1',price:'15.90',category:'Webhosting'},{name:'Webhosting Smart',id:'1035',price:'17.90',category:'Webhosting'},{name:'Webhosting Business',id:'2',price:'29.90',category:'Webhosting'}];dataLayer.push({event:'productView',ecommerce:{currencyCode:'CHF',detail:{products:a}}}),window.setTimeout(function(){$('a').each(function(f,e){var c=$(e),b=c.prop('href'),d=b.toLowerCase().indexOf('/customer/shop/buy');d>=0&&c.on('click',function(f){var e=b.substr(b.indexOf('prod=',d+18)+5),c;e.indexOf('&')>=0&&(e=e.substr(0,e.indexOf('&')));for(c=0;c<a.length;c++)a[c].id===e?a[c].quantity=1:(a.splice(c,1),c--);return dataLayer.push({event:'addToCart',ecommerce:{currencyCode:'CHF',add:{products:a}}}),window.setTimeout(function(){window.location.href=b},20),f.preventDefault(),!1})})},100)}function initTeasers(){var b='.webhs2-item',a=$(b),d,c,e;if(a.length>3){a.addClass('hidden'),d=a.eq(0).parent();for(c=0;c<3;c++)e=Math.floor(getRandomNumber()*a.length),a.eq(e).removeClass('hidden').detach().prependTo(d),a=$(b+'.hidden')}}function setupWebhs3(){$('.webhs3-buy .flat-button,.webhs3-buy .flat-button a').on('click',function(a){return scrollToAnimated('#webhs4',isNarrowView()?400:-50,500),a.preventDefault(),!1})}function setupWebh4MobileTabs(){$('#webhs4 .webhs4-tab').on('click',function(b){var c=$(b.target),a=c.index();$('#webhs4 .webhs4-tab').removeClass('active').eq(a).addClass('active'),$('#webhs4 .webhs4-item').removeClass('active').eq(a).addClass('active'),$('.webhs4-container').toggleClass('smart',a==1)})}function setupWebh4Test(){var h=!1,c,e,f,g,b,a,d;$('#webhs1 .flat-button,.test-button').on('click',function(b){var c=$('#webhs4-test').offset().top,d=$(window).scrollTop(),a=Math.abs(c-d);return Math.abs(a)>300?scrollToAnimatedWithCallback('#webhs4-test',isNarrowView()?-60:-120,isNarrowView()?a/1.5:a/3,function(){$('#webhs4-test input[type=text]').eq(0).trigger('focus')}):$('#webhs4-test input[type=text]').eq(0).trigger('focus'),b.preventDefault(),!1}),c=!1,e=function(){if(c)return;c=!0;let a=document.createElement('script');a.setAttribute('src','https://www.google.com/recaptcha/api.js'),document.head.appendChild(a)},f=null,$('body').on('keydown keyup keypress click change','#webhs4-test input',e),window.recaptchaCallback=function(a){f=a,d()},g=/^([\w-\.+]+@([\w-]+\.)+[\w-]+)?$/,b=!1,a=!1,$('.webhs4-test-chkagb').on('click',function(e){var c=$('.webhs4-test-usermail input').val(),d=c.length>0&&g.test(c);return $('.webhs4-test-usermail').toggleClass('has-error',!d),d&&(b=!0,$('.webhs4-test-usermail input')[0].setAttribute('readonly','readonly'),$.ajax({type:'GET',url:'/ms/promo/images/create_promo.php?check_hpid=1&email='+encodeURIComponent(c),dataType:'json',beforeSend:function(a){fadeOut($('.webhs4-test-chkagb')),fadeIn($('.webhs4-test-step2').show()),fadeOut($('.webhs4-test-form'))},success:function(b){fadeIn($('.webhs4-test-form')),fadeOut($('.webhs4-test-step2')),a=!!b.hostpoint_id_exists,a?fadeIn($('.webhs4-test-password')):fadeIn($('#webhs4-test .captcha'))},error:function(b){debugger;var a=$('#webhs4-test-error').text();fadeIn($('.webhs4-test-chkagb')),fadeIn($('.webhs4-test-form')),fadeOut($('.webhs4-test-step2')),$('.webhs4-submit-button').addClass('has-error').find('.webhs4-test-error-msg span').text(a),$('.webhs4-test-usermail input')[0].removeAttribute('readonly')}})),e.preventDefault(),!1}),$('#webhs4-test .flat-button').on('click',function(a){d()}),d=function(){var e,d,c;if($('.webhs4-test-chkagb').toggleClass('has-error',!b),!b)return!1;if(a)if(e=$('.webhs4-test-password input').val(),d=e.length>4,$('.webhs4-test-password').toggleClass('has-error',!d),!d)return!1;c=$("#webhs4-test form").serialize(),a||(c=c.substring(0,c.indexOf('&password='))),$.ajax({type:'POST',url:'/ms/promo/images/create_promo.php',data:c,dataType:'json',beforeSend:function(a){fadeIn($('.webhs4-test-step2').show()),fadeOut($('.webhs4-test-form'))},success:function(a){fadeOut($('.webhs4-test-step2')),a&&(a.error_msg?(fadeIn($('.webhs4-test-form')),$('.webhs4-submit-button').addClass('has-error').find('.webhs4-test-error-msg span').text(a.error_msg),grecaptcha.reset(),$('.webhs4-test-usermail input')[0].removeAttribute('readonly')):a.message&&(fadeIn($('.webhs4-test-step3').show()),$('#webhs4-test form > h2, #webhs4-test form > p, #webhs4-test .webhs4-test-vline').fadeOut(),$('#autologin_link').on('click',function(){return window.open(a.login_link),!1}),$('#autologin_link').show(),ga&&ga('send','event','Webhosting','verschickt','Trial Campaign'),dataLayer.push({event:'trialFormSubmit',productName:'Webhosting'})))},error:function(a){debugger;fadeIn($('.webhs4-test-form')),$('.webhs4-submit-button').addClass('has-error').find('.webhs4-test-error-msg span').text(a.error_msg),grecaptcha.reset(),$('.webhs4-test-usermail input')[0].removeAttribute('readonly')}})}}function setupWebh6Subnavi(){var a=null,b;$('<div class="submenu-bg"></div>').appendTo('body > .navi > .submenu-container'),window.setTimeout(function(){$('.submenu-bg').addClass('animate-colors'),$('.submenu-inner ul li a').addClass('animate-colors'),$('.navi-hline').addClass('animate-colors'),$('#webhs6 .submenu-inner .animate-colors').addClass('animate-colors-delay-50'),$('.mobile-submenu-overlay').addClass('animate-colors'),$('.buy-button').addClass('animate-colors'),$('.buy-button a').addClass('animate-colors')},1),b=function(){var g=isNarrowView(),b=$('#webhs6 .webhs6-subnavi'),w=b.offset().top,c=$(window).scrollTop(),v=$('.submenu-container').height(),m=$('#webhs2'),u=c>w-v,d=$('.webhs6-item-infra'),t=c>d.offset().top+d.height()-200+(g?50:0),s=c>d.offset().top+d.height()-100+(g?50:0),q=$('.webhs6-gesamtpaket'),o=c>q.offset().top-100,y=c>d.offset().top-100,f,p,e,r,l,h,i,j,k,x,n;b.toggleClass('fixed',u),b.toggleClass('faded',t),f=y?2:o?1:0,a!=null&&(f=a),p=b.find('li.active').index(),e=b.find('li').removeClass('active').eq(f).addClass('active'),r=e.offset(),l=b.find('.submenu-active-line'),l.find('div').css({width:e.width(),left:r.left-l.offset().left}),p!=f&&(h=$('.webhs6-subnavi ul'),i=h.scrollLeft(),j=e.offset().left+i-h.offset().left,k=j+e.width(),(j<i||k>i+270)&&(x=(j+k)*.5-160,h.animate({scrollLeft:x},{duration:300,queue:!1}))),n=c>m.offset().top+m.height()-100-(g?100:0),$(document.body).toggleClass('dark',f==2&&!s),$(document.body).toggleClass('dark-mobile',!n),$(document.body).toggleClass('opaque-subnavi',!n)},$(window).on('scroll',b),b(),$('#webhs6 .webhs6-subnavi li').on('click',function(b){var d=$(b.currentTarget),c=d.index();return a=c,scrollToAnimatedWithCallback($('.webhs6-item').eq(c),-90,300,function(){a=null}),b.preventDefault(),!1})}function fadeOut(a){a.css('pointer-events','none').removeClass('shown')}function fadeIn(a){a.css('pointer-events','auto').addClass('shown')}function initTooltips(){var a=!1,c=function(b){var a,e,f,c,d;b=b.closest('.webhs-tooltip'),a=$('.webhs-tooltip-overlay'),a.length==0&&(e=$(document.body).data('tooltip-close-button'),a=$('<div class="webhs-tooltip-overlay"><div><div class="webhs-tooltip-text"></div><div class="hideondesktop">'+e+'</div></div></div>'),a.appendTo(document.body)),f=b.data('tooltip'),a.find('.webhs-tooltip-text').html(f),c=b.parent().offset().left-$('#webhs4').offset().left<470,d=isNarrowView(),a.toggleClass('webhs-tooltip-right',!c&&!d),window.setTimeout(function(){var g=a.height(),f=Math.round(g/2),e=b.offset();d?(a.css('background-position','112px 1px'),a.css('top',e.top+b.parent().outerHeight())):(c?(a.css('background-position','1px '+(f-11).toString()+'px'),a.css('left',e.left+24)):(a.css('background-position',a.width().toString()+'px '+(f-11).toString()+'px'),a.css('left',e.left-16-a.width())),a.css('top',e.top-f+8))},1)},b=function(){$('.webhs-tooltip-overlay').remove(),a=!1},d=null;$('.webhs-tooltip').on('mouseenter',function(b){a||c($(b.target))},function(c){!a&&!$(c.toElement).hasClass('webhs-tooltip-overlay')&&b()}),$('.webhs-tooltip').on('click',function(b){a=!0,c($(b.target))}),$(document).on('click',function(a){$(a.target).closest('.webhs-tooltip-overlay,.webhs-tooltip').length==0&&b()}),$(document.body).on('click','.webhs-tooltip-overlay .hideondesktop',function(){b()}).on('touchend','.webhs-tooltip-overlay .hideondesktop',function(){b()})}function setupWebhs7Animations(){var d=$('.webhs7_screenimage'),a=$('.webhs7_lefttext'),b=$('.webhs7_righttext'),c;$('.webhs7_slide').on('click',function(){var c=$(this).attr('id');if(c=c.substring(c.length-1),c-1==webhs7Index)return;animateWebhs7ToIndex(d,a,b,c-1),clearInterval(slidesTimer),slidesTimer=window.setInterval(function(){animateWebhs7ToIndex(d,a,b,webhs7Index+1)},6e3)}),slidesTimer=window.setInterval(function(){animateWebhs7ToIndex(d,a,b,webhs7Index+1)},6e3);for(c=1;c<3;c++)$(d[c]).css({left:'10000px'}),$(a[c]).css({opacity:0}),$(b[c]).css({opacity:0});blendInWebhs7Texts(a,b,webhs7Index)}function animateWebhs7ToIndex(f,d,e,a){var h,c,b,g;if(isSwitchingWebhs7Slides)return;isSwitchingWebhs7Slides=!0,h=isNarrowView(),c=(a-webhs7Index+3)%3,c=c==2?-1:c,a=a%3,b=$(f[a]),g=$(f[webhs7Index]),b.css({opacity:0}),g.animate({opacity:0},webhs7AnimationDuration,'swing',function(){b.animate({opacity:1},webhs7AnimationDuration,'swing',null)}),blendOutWebhs7Texts(d,e,webhs7Index,function(){blendInWebhs7Texts(d,e,a)}),b.animate({left:'0px'},webhs7AnimationDuration,'swing',function(){isSwitchingWebhs7Slides=!1}),webhs7Index=a}function blendInWebhs7Texts(d,e,a){var b=$(d[a]),c=$(e[a]);a==0?(b.css({left:'-72px'}),b.animate({opacity:1},webhs7AnimationDuration,'swing',null),c.css({left:'920px'}),c.animate({opacity:1},webhs7AnimationDuration,'swing',null)):a==1?(b.css({left:'-62px'}),b.animate({opacity:1},webhs7AnimationDuration,'swing',null),c.css({left:'916px'}),c.animate({opacity:1},webhs7AnimationDuration,'swing',null)):a==2&&(b.css({left:'-86px'}),b.animate({opacity:1},webhs7AnimationDuration,'swing',null),c.css({left:'910px'}),c.animate({opacity:1},webhs7AnimationDuration,'swing',null)),$($('#webhs7_slideroverlay .webhs7_slide')[a]).animate({opacity:1},webhs7AnimationDuration,'swing',null)}function blendOutWebhs7Texts(e,f,a,b){var c=$(e[a]),d=$(f[a]);a==0?(c.animate({opacity:0},webhs7AnimationDuration,'swing',null),d.animate({opacity:0},webhs7AnimationDuration,'swing',b)):a==1?(c.animate({opacity:0},webhs7AnimationDuration,'swing',null),d.animate({opacity:0},webhs7AnimationDuration,'swing',b)):a==2&&(c.animate({opacity:0},webhs7AnimationDuration,'swing',null),d.animate({opacity:0},webhs7AnimationDuration,'swing',b)),$($('#webhs7_slideroverlay .webhs7_slide')[a]).animate({opacity:0},webhs7AnimationDuration,'swing',null)}function setupWebhs9(){var c=$('.webhs9-portrait'),d=$('.webhs9-item'),a=c.length,b,e,f,h,g,i;c.removeClass('active'),d.removeClass('active'),b=1,$(c[1]).addClass('active'),$(d[1]).addClass('active');for(e=3;e<a;e++)$(c[e]).addClass('hidden');f=function(m){for(var g=isNarrowView(),l=g?1:3,j=g?-293:42,k=g?284:284,e=0,i,f,h;e<a;e++)m?(i=(e+b-2+a)%a,f=$(c[i]),a>l?f.css('left',j+k*(e-1)):f.css('left',j+k*((e-1+a)%a)),f.toggleClass('hidden',g?e!=2:e==0||e>l)):(i=(e+b-1+a)%a,f=$(c[i]),f.css('left',j+k*e),f.toggleClass('hidden',g?e!=1:e>l-1));$('.webhs9-item,.webhs9-portrait').removeClass('active'),$(c[b]).addClass('active'),$(d[b]).addClass('active'),$('.webhs9-portrait').not('.hidden').each(function(d,c){var a=$(c),b;a.attr('data-img')&&(a.css('background-image','url('+a.attr('data-img')+')'),a.attr('data-img',null),b=a.find('.webhs9-portrait-color'),b.css('background-image','url('+b.attr('data-img')+')'),b.attr('data-img',null))}),h=d.eq(b).find('.webhs9-bigimage'),h.attr('data-img')&&(h.css('background-image','url('+h.attr('data-img')+')'),h.attr('data-img',null)),retina()},f(!1),$('.webhs9-arrow').on('click',function(d){$('#webhs9').removeClass('animating');var c=!$(d.currentTarget).hasClass('webhs9-arrow-left');c?b++:b--,b=(b+a)%a,window.setTimeout(function(){$('#webhs9').addClass('animating'),f(c)},1)}),h=function(){$('#webhs9').toggleClass('show-arrows',!0).addClass('animating'),f(!1)},h(),$(window).on('resize',h),$(document.body).on('click','.webhs9-portrait',function(d){var c=$(d.currentTarget).index()-b;c==-1||c==a-1?$('.webhs9-arrow-left').trigger('click'):(c==1||c==1-a)&&$('.webhs9-arrow-right').trigger('click'),window.clearInterval(g)}),g=null,i=function(){if(g)return;$(window).scrollTop()+$(window).height()*.8>$('.webhs9-portraits').offset().top&&(g=window.setInterval(function(){$('.webhs9-arrow-right').trigger('click')},5e3))},$(window).on('scroll',i),i()}function animateWebhs9(a,c){var d=(webhs9Index+c+a.length)%a.length,b=$(a[d]),e=$(a[webhs9Index]);c==-1?(b.css({left:'-1110px'}),e.animate({left:'1120px'},400,'swing',null)):(b.css({left:'1110px'}),e.animate({left:'-1120px'},400,'swing',null)),b.animate({left:'0px'},400,'swing',null),webhs9Index=d}function initPromotionBanner(){var d=!1,e=$('.navi #navi-container'),a=$('.promotion-banner'),b=$('.submenu-container'),c=b.clone().addClass('-cloned').insertAfter(b),f=function(){var b=$(window).scrollTop(),c=isNarrowView()?112:187;a.toggleClass('-fixed',b>c)},g;$(window).on('scroll',function(){if(d)return;f()}),f(),g=function(){c.css('top',a.height())},$(window).on('resize',function(){g()}),g(),a.find('.close-button').on('click',function(){var f,h,g;if(d=!0,$(window).width()<940){a.animate({opacity:0},{duration:300,queue:!1}),setTimeout(function(){a.remove(),c.remove(),$(document.body).removeClass('-no-fixed-subnavi'),b.removeAttr('style'),$(window).trigger('scroll')},350);return}f=$(window).scrollTop(),h=isNarrowView()?112:187,f<h&&a.css('z-index',5),a.animate({top:-a.height()},{duration:300,queue:!1}),c.animate({top:0},{duration:300,queue:!1}),g=e.height()+e.offset().top+.9,f=$(window).scrollTop(),b.animate({top:f>g?0:g},{duration:300,queue:!1}),setTimeout(function(){a.remove(),c.remove(),$(document.body).removeClass('-no-fixed-subnavi'),b.removeAttr('style'),$(window).trigger('scroll')},350)})}